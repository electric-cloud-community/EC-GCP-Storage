<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=us-ascii" http-equiv="content-type"/>
    <title>@PLUGIN_KEY@ Plugin</title>
    <link rel="stylesheet" href="../../plugins/@PLUGIN_NAME@/pluginhelp.css" type="text/css" media="screen"/>
</head>
<body>
<!--
    Generated by PluginWizardHelp
    https://github.com/electric-cloud/PluginWizardHelp
    Do *NOT* edit manually, use help file generation.
-->
<div class="help">
    <h1>@PLUGIN_KEY@</h1>
    <p>Plugin version @PLUGIN_VERSION@</p>
    
    <p>Revised on May 07, 2020</p>
    
    <hr style="margin-left: -10px; margin-top: 10px; height: 1px; width: 100%; color: #5981BD;" noshade="noshade"/>
    <h1>Contents</h1>
    <ul>
    
    <li><a href="#overview">Overview</a></li>
    
    
    
    
    
    
    
    
    <li><a href="#CreateConfiguration">Plugin Configuration</a></li>
    

    
    <li><a href="#procedures">Plugin Procedures</a></li>
    

    <ul>
        

        <li><a href="#DownloadObject">Download Object</a></li>
        

        <li><a href="#DownloadObjects">Download Objects</a></li>
        

        <li><a href="#ListObjects">List Objects</a></li>
        

        <li><a href="#RunScript">Run Script</a></li>
        

        <li><a href="#UploadFolder">Upload Folder</a></li>
        

        <li><a href="#UploadObject">Upload Object</a></li>
        
    </ul>

    

    
    
    
    
    
    
    <li><a href="#knownIssues">Known Issues</a></li>
    
    
    <li><a href="#releaseNotes">Release Notes</a></li>
</ul>

    
    <h1>Overview</h1>
    <p><p> This plugin integrates with Google Cloud Storage.</p>
</p>
    
    
    
    
    
    

    <!--TODO custom blocks-->

    
    <div id="CreateConfiguration">
        <a name='CreateConfiguration' id="CreateConfiguration"> </a>
        <h1>Plugin Configurations</h1>

        <p>
            Plugin configurations are sets of parameters that apply
            across some or all of the plugin procedures. They
            reduce repetition of common values, create
            predefined parameter sets for end users, and
            securely store credentials where needed. Each configuration
            is given a unique name that is entered in designated
            parameters on procedures that use them.<br /><br />
        </p>

        <h3>Creating Plugin Configurations</h3>
        <p>To create plugin configurations in CloudBees CD,
            do these steps:</p>

        <li>Go to <b>Administration</b> &gt; <b>Plugins</b> to open the Plugin Manager.</li>
        <li>Find the @PLUGIN_NAME@ row.</li>
        <li>Click <b>Configure</b> to open the
             Configurations page.</li>
        <li>Click <b>Create Configuration</b> as per the description of parameters below.</li>
        

        <h2>Configuration Procedure Parameters</h2>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                    <td class="required">Configuration Name</td>
                    <td>The name for the created configuration</td>
                
            </tr>
            
            <tr>
                
                    <td >Description</td>
                    <td>Description for the configuration</td>
                
            </tr>
            
            <tr>
                
                    <td class="required">Service Account Key</td>
                    <td>Service account key in JSON format</td>
                
            </tr>
            
            </tbody>
        </table>
        
    </div>
    

    

    <h1 id="procedures">Plugin Procedures</h1>
    
    

    
    <div id="DownloadObject">
        <h2>Download Object</h2>
        
        
        <p>This procedure download specific object from the specified path into the filesystem</p>
        
        
        <h3>Download Object Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                <td class="required">Bucket</td>
                <td>Name of the bucket</td>
                
            </tr>
            
            <tr>
                
                <td class="required">File Name</td>
                <td>Full path to the file in bucket.</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Destination</td>
                <td>Destination file on the filesystem.</td>
                
            </tr>
            
            <tr>
                
                <td >Overwrite?</td>
                <td>If checked, the file will be overwritten, otherwise the procedure will fail.</td>
                
            </tr>
            
            </tbody>
        </table>

        

        
    </div>

    
    <div id="DownloadObjects">
        <h2>Download Objects</h2>
        
        
        <p>This procedure downloads object from the specified path into the filesystem</p>
        
        
        <h3>Download Objects Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                <td class="required">Bucket</td>
                <td>Name of the bucket</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Path</td>
                <td>Path in the bucket to download objects from. Must be a folder prefix.</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Destination</td>
                <td>Destination folder on the filesystem.</td>
                
            </tr>
            
            <tr>
                
                <td >Overwrite?</td>
                <td>If checked, the file will be overwritten, otherwise the procedure will fail.</td>
                
            </tr>
            
            </tbody>
        </table>

        

        
    </div>

    
    <div id="ListObjects">
        <h2>List Objects</h2>
        
        
        <p>This procedure lists the objects in the specified bucket</p>
        
        
        <h3>List Objects Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                <td class="required">Bucket</td>
                <td>Bucket name to list object in.</td>
                
            </tr>
            
            <tr>
                
                <td >Path</td>
                <td>Path to filter objects</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Result Property Sheet</td>
                <td>Property sheet to store results</td>
                
            </tr>
            
            </tbody>
        </table>

        
        <h4>Output Parameters</h4>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td>objects</td>
                <td>JSON list of objects found</td>
            </tr>
            
            </tbody>
        </table>
        

        
    </div>

    
    <div id="RunScript">
        <h2>Run Script</h2>
        
        
        <p>Runs a custom groovy script with the prepared Storage client</p>
        
        
        <h3>Run Script Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                <td class="required">Script</td>
                <td>Script to evaluate. The following variables are accessible:

storage - storage client
ef - ElectricFlow Groovy API client
zone - zone name from the configuration
project - project ID from the configuration
wrapper - Storage wrapper from this plugin

Both wrapper and compute clients are already initialized.
</td>
                
            </tr>
            
            </tbody>
        </table>

        
        <h4>Output Parameters</h4>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td>output</td>
                <td>Some output parameter to use in the script</td>
            </tr>
            
            </tbody>
        </table>
        

        
    </div>

    
    <div id="UploadFolder">
        <h2>Upload Folder</h2>
        
        
        <p>This procedure uploads a folder to bucket</p>
        
        
        <h3>Upload Folder Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                <td class="required">Bucket Name</td>
                <td>Target bucket name.</td>
                
            </tr>
            
            <tr>
                
                <td >Source Folder</td>
                <td>Folder path to upload. Can be either absolute or relative (will be calculated from the job workspace).</td>
                
            </tr>
            
            <tr>
                
                <td >Include Patterns</td>
                <td>Regular expression for file names to include into the upload, e.g. .*log, newline-separated.
</td>
                
            </tr>
            
            <tr>
                
                <td >Exclude Patterns</td>
                <td>Regular expression for file names to exclude from the upload, e.g. .*log, newline-separated.
</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Destination Object Path</td>
                <td>Destination path in the target bucket, e.g. my/path. If the file in the folder named {folder}/path/file,
and the path is my/folder, it will be placed at gs://{bucket}/my/folder/path/file.
</td>
                
            </tr>
            
            <tr>
                
                <td >Make Public?</td>
                <td>If checked, the objects will be made public. Not applicable to the buckets with uniform access.</td>
                
            </tr>
            
            <tr>
                
                <td >overwrite</td>
                <td>If checked, the existing object will be overwritten.</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Result Property Sheet</td>
                <td>Result property sheet to save results to.</td>
                
            </tr>
            
            </tbody>
        </table>

        
        <h4>Output Parameters</h4>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td>objects</td>
                <td>JSON representation of the uploaded objects</td>
            </tr>
            
            </tbody>
        </table>
        

        
    </div>

    
    <div id="UploadObject">
        <h2>Upload Object</h2>
        
        
        <p>This procedure uploads an object to bucket</p>
        
        
        <h3>Upload Object Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                
                <td class="required">Bucket Name</td>
                <td>Name of the bucket to upload objects to.</td>
                
            </tr>
            
            <tr>
                
                <td >File Path</td>
                <td>Path to the file, may be either absolute or relative to the job workspace.</td>
                
            </tr>
            
            <tr>
                
                <td >File Folder</td>
                <td>Folder to look for the file if the file name is not determined.</td>
                
            </tr>
            
            <tr>
                
                <td >Include Pattern</td>
                <td>Include pattern to look for the file, e.g. \.log$</td>
                
            </tr>
            
            <tr>
                
                <td >Exclude Pattern</td>
                <td>Exclude pattern to be used while looking for the file, e.g. \.log$</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Destination Path</td>
                <td>Path in the bucket to upload objects to.</td>
                
            </tr>
            
            <tr>
                
                <td >Make Public?</td>
                <td>If checked, the objects will be made public. Not applicable to the buckets with uniform access.</td>
                
            </tr>
            
            <tr>
                
                <td >overwrite</td>
                <td>If checked, the existing object will be overwritten.</td>
                
            </tr>
            
            <tr>
                
                <td class="required">Result Property Sheet</td>
                <td>Property sheet to save results.</td>
                
            </tr>
            
            </tbody>
        </table>

        
        <h4>Output Parameters</h4>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td>object</td>
                <td>JSON representation of the uploaded object</td>
            </tr>
            
            <tr>
                <td>objectLink</td>
                <td>Media link of the uploaded object.</td>
            </tr>
            
            </tbody>
        </table>
        

        
    </div>

    

    

    

    

    
    
    
    <h1 id="knownIssues">Known Issues</h1>
    <div>
        <p>NA</p>

    </div>
    
    

    <h1 id="releaseNotes">Release Notes</h1>
    
    <h3>@PLUGIN_KEY@ 1.2.0</h3>
    <ul>
        
        <li>Procedure "Download Object" has been added.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.1.0</h3>
    <ul>
        
        <li>Switched plugin to the cleaned layout.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.0.1</h3>
    <ul>
        
        <li>Help document Added.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.0.0</h3>
    <ul>
        
        <li>Introduced the EC-GCP-Storage plugin.</li>
        
    </ul>
    
</div>
</body>
</html>
